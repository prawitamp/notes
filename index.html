<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notes</title>
    <link href="/assets/css/bootstrap.css" rel="stylesheet" />
 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js">

    </script>
  </head>
  <body>
    <header class="p-5 bg-success text-white text-center mb-3">
      <h1 class="t1">School Lessons Notes</h1>
      
    </header>
    <section class="container min-vh-100">
      
      <div class="d-flex justify-content-end mb-3 p-3">
        <a href="tambah.html" class="btn btn-success">Add</a>
      </div>

      <section class="m-0 row g-4 p-2" id="data" >
        
        </section>
      </div>
    </section>
    <footer class="p-3 bg-success text-center">
      <span class="text-light"
      >Made with ü§ç Prawita
       </span
       >
    </footer>
       <script>

         
        $(document).ready(function () {
          $.ajax({
            type: "GET",
            url: "https://dev-api.surosowancyber.or.id/getAllNote",
            dataType: "JSON",
            success: function (response) {
              console.log(response);
              response.data.notes.forEach((note) => {
                console.log(note)
                const cardHtml = 
               `<div class="col-lg-3 col-md-4 m-0 col-sm-6" data-note-id="${note.id}">
                <div class="card mt-2 mb-2 shadow">
                <div class="card-body">
                  <img src="./assets/img/coding.webp" class="card-img-top" alt="programming"/>
                  <h5 class="card-title">${note.title}</h5>
                  <h5 class="card-title">${note.description}</h5>
                  <p class="card-text mb-2">${new Date(note.createdAt).toLocaleString()}</p>
               
                  <div class="d-flex justify-content-end">
                    <a href="detail.html?id=${note.id}" class="btn btn-sm btn-info">Detail</a>
                  </div>
                  </div>
            </div>
          </div>`
            $("#data").append(cardHtml)
              });
            },  
          });
        }) 
       </script>
  </body>
</html>